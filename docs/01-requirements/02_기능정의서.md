# 기능 정의서

## 1. 문서 정보

* **문서 목적**: 동네책장 플랫폼의 세부 기능을 정의하고 각 기능의 입력, 처리, 출력을 명확히 한다.
* **대상**: 기획, 프론트엔드
* **작성일**: 2026-01-20
* **버전**: 1.0

---

## 1. 공통 규칙

* 로그인 필요 기능은 비로그인 상태에서 접근 시 로그인 화면으로 이동한다.
* 작성/수정/삭제 권한은 작성자 본인에게만 부여한다.
* 실패 시 사용자에게 사유를 안내한다(권한 없음, 입력 오류 등).
* 모든 페이지는 모바일 우선 반응형으로 제공된다.

---

## 2. 기능 상세

| 기능ID | 기능명 | 우선순위 | 입력 | 처리 | 출력 | 예외 |
|---|---|---|---|---|---|---|
| FD-01 | 로그인 | 1순위 | 이메일, 비밀번호, 로그인 유지 체크박스 | 인증 성공 시 토큰 발급 (로그인 유지 선택 시 localStorage, 미선택 시 sessionStorage) | 로그인 성공, 메인 화면 또는 이전 페이지 이동 | 계정 없음, 비밀번호 불일치 |
| FD-02 | 로그아웃 | 1순위 | - | 세션/토큰 삭제 | 로그아웃 완료, 메인 화면 이동 | - |
| FD-03 | 책 등록 | 1순위 | 제목, 저자, 상태, 설명, 이미지, 위치 | 책 정보 저장 및 등록 | 등록 완료 메시지, 책 상세 페이지 이동 | 필수 항목 누락, 권한 없음 |
| FD-04 | 책 목록 조회 | 1순위 | 스크롤 위치 | 무한 스크롤로 책 목록 데이터 조회 | 책 목록 리스트 표시 (썸네일, 제목) 및 스크롤 시 추가 로드 | - |
| FD-05 | 책 상세 조회 | 1순위 | 책 ID | 책 상세 정보 조회 | 책 상세 정보 표시 (제목, 저자, 카테고리, 상태, 설명, 이미지, 판매자 정보, 채팅하기 버튼) | 책 ID 없음, 삭제된 책 |
| FD-06 | 책 검색 | 1순위 | 검색어 (제목/저자) | 검색어 기반 책 목록 조회 | 검색 결과 목록 표시 | 검색 결과 없음 |
| FD-07 | 회원가입 | 2순위 | 이메일, 비밀번호, 비밀번호 확인, 닉네임 | 이메일, 닉네임 중복 확인 후 회원 생성 | 회원가입 완료 메시지, 로그인 화면 이동 | 중복 이메일, 중복 닉네임, 비밀번호 규칙 위반 |
| FD-08 | 책 수정 | 1순위 | 책 ID, 수정할 정보 | 작성자 확인 후 책 정보 수정 | 수정 완료 메시지, 책 상세 페이지 이동 | 권한 없음, 필수 항목 누락 |
| FD-09 | 책 삭제 | 1순위 | 책 ID | 작성자 확인 후 책 삭제 | 삭제 완료 메시지, 목록 페이지 이동 | 권한 없음 |
| FD-10 | 채팅 시작 | 1순위 | 상대방 ID (판매자/구매자) | 채팅방 생성 또는 기존 채팅방 조회 | 채팅방 화면 이동 | 로그인 필요, 본인과 채팅 불가 |
| FD-11 | 채팅 목록 조회 | 1순위 | - | 사용자의 채팅방 목록 조회 | 채팅방 리스트 표시 (상대방 닉네임, 마지막 메시지, 시간) | 로그인 필요 |
| FD-12 | 실시간 채팅 | 1순위 | 채팅방 ID, 메시지 내용 | 실시간으로 메시지 전송 및 수신 | 메시지 목록 실시간 업데이트 | 로그인 필요, 연결 끊김 |
| FD-13 | 책 찜하기 | 2순위 | 책 ID | 찜 목록에 추가/해제 | 찜 상태 변경, 찜 목록 업데이트 | 로그인 필요, 이미 찜한 책 |
| FD-14 | 찜 목록 조회 | 2순위 | - | 사용자의 찜 목록 조회 | 찜한 책 목록 표시 | 로그인 필요 |
| FD-15 | GPS 위치 검색 | 2순위 | 현재 위치 또는 검색 위치, 반경 | GPS 기반 근처 책 필터링 | 위치 기반 책 목록 표시 | 위치 권한 거부, GPS 오류 |
| FD-16 | 모임 게시판 목록 조회 | 2순위 | 페이지 번호 | 모임 글 목록 조회 | 모임 글 목록 표시 (제목, 작성자, 작성일) | - |
| FD-17 | 모임 글 작성 | 2순위 | 제목, 내용, 모임 일시, 장소 | 모임 글 등록 | 작성 완료 메시지, 모임 글 상세 페이지 이동 | 로그인 필요, 필수 항목 누락 |
| FD-18 | 모임 글 상세 조회 | 2순위 | 글 ID | 모임 글 상세 정보 및 댓글 조회 | 모임 글 상세 내용, 댓글 목록 표시 | 글 ID 없음 |
| FD-19 | 모임 댓글 작성 | 2순위 | 글 ID, 댓글 내용 | 댓글 등록 | 댓글 등록 완료, 댓글 목록 업데이트 | 로그인 필요, 내용 누락 |
| FD-20 | 후기 작성 | 3순위 | 거래 상대 ID, 평점, 내용 | 후기 등록 | 후기 작성 완료 메시지 | 로그인 필요, 거래 내역 없음 |
| FD-21 | 작성한 후기 조회 | 3순위 | 사용자 ID | 해당 사용자가 작성한 후기 목록 조회 | 작성한 후기 목록 표시 | - |
| FD-22 | 받은 후기 조회 | 3순위 | 사용자 ID | 해당 사용자가 받은 후기 목록 조회 | 받은 후기 목록 표시 (평점, 내용) | - |
| FD-23 | 프로필 조회 | 3순위 | 사용자 ID | 사용자 프로필 정보 조회 | 프로필 정보 표시 (닉네임, 등록 책 수, 후기 등) | 사용자 없음 |
| FD-24 | 프로필 수정 | 3순위 | 닉네임, 프로필 이미지 | 프로필 정보 수정 | 수정 완료 메시지 | 로그인 필요, 권한 없음 |
| FD-25 | 알림 조회 | 3순위 | - | 사용자의 알림 목록 조회 | 알림 목록 표시 (찜한 책 변동, 댓글 알림, 채팅 알림 등) | 로그인 필요 |

---

## 3. 참고사항

* 책 목록과 모임 게시판은 무한 스크롤 방식으로 제공된다.
* 이미지 업로드는 최대 5MB, jpg/png 형식만 지원한다.
* GPS 위치 검색은 브라우저 Geolocation API를 사용한다.
* 실시간 채팅은 WebSocket 또는 Socket.io를 사용한다.
* 채팅 알림 기능은 1순위, 기타 알림 기능은 3순위로 추후 구현 예정이다.